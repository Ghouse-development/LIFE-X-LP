# 2025-11-08 FC LP 82→100点改善実装

## 実装内容

### デザインシステム統一
- **デザイントークン導入** (`app/globals.css`)
  - 色: `--ink` (#0f172a), `--sky` (#1f2b46), `--gold` (#f6c76b), `--bg` (#fafbfc), `--card` (#ffffff), `--line` (#e5e7eb)
  - タイポグラフィ: `heading-1`, `heading-2`, `heading-3`, `text-lead`, `text-body`
  - ボタン: `btn-primary`, `btn-secondary`, `btn-ghost-on-dark`

### CTA統一
全ページで以下に統一:
- 主CTA: 「サンプル一式を請求」
- 副CTA: 「個別相談（30分）」

**変更箇所:**
- `components/fc/SiteHeader.tsx` - ナビゲーションCTA
- `components/fc/Hero.tsx` - ヒーローCTA（2つ）
- `components/fc/FloatingCTA.tsx` - フローティングCTA
- `components/fc/Concept.tsx` - 価値提案セクション
- `components/fc/PackageContents.tsx` - パッケージセクション
- `components/fc/Pricing.tsx` - 料金プランセクション

### 新規コンポーネント作成（4つ）

#### 1. `components/fc/Roadmap.tsx`
- W1-W8の導入ロードマップ
- 各週のタスクをCheckCircle2アイコン付きリストで表示
- 4カラムグリッドレイアウト（レスポンシブ: md:2列, lg:4列）

#### 2. `components/fc/ImplementationGallery.tsx`
- ダークセクション (#0b1220背景)
- タブUI: 「商談資料」「Web & 広告」「画像アセット」
- 3x2グリッドで実装サンプル画像表示
- アスペクト比16:9固定

#### 3. `components/fc/PrimaryCTA.tsx`
- メインコンバージョンポイント
- 受け取れる3アイテム表示（営業スライド雛形、価格表雛形、画像アセット）
- グラデーション背景: `from-white to-[var(--bg)]`

#### 4. `components/fc/SecondaryCTA.tsx`
- 個別相談への誘導カード
- Calendarアイコン＋説明テキスト
- ボーダー付きカード形式

### コンテンツ更新

#### FAQ刷新 (`data/fc.json`)
実装懸念に焦点を当てた10問に変更:
1. 自社のテイストに合わない場合は？
2. 他社FCと比べて何が違うのか？
3. 小さい商圏でも導入できる？
4. 営業未経験者でも対応可能？
5. 既存ブランドと並行運用できる？
6. 仕様は定期的に更新される？
7. サポート体制はどうなっている？
8. 資料を自社用にカスタマイズできる？
9. 稼働開始前の準備は何が必要？
10. 運用開始後の改善更新は？

#### 料金プラン簡略化 (`components/fc/Pricing.tsx`)
- 4行テーブル → 2カードレイアウトに変更
- 「標準プラン」「プレミアムプラン」
- 具体的な数値を削除し、「個別面談でご案内」表記

#### セクション削除
- `components/fc/ThreeContradictions.tsx` - 削除
- `app/fc/page.tsx` から削除

### メタデータ更新 (`app/fc/page.tsx`)
```typescript
title: "LIFE X"
description: "規格住宅の運用を最短8週間で標準化。台本・雛形・画像・ルール一式提供"
```

### ナビゲーション更新 (`components/fc/SiteHeader.tsx`)
```typescript
const navItems = [
  { label: '特徴', href: '#concept' },
  { label: '受け取れるもの', href: '#package' },
  { label: '導入', href: '#roadmap' },  // 変更
  { label: '事例', href: '#samples' },  // 変更
  { label: 'FAQ', href: '#faq' },
]
```

## 発生した問題と解決

### 問題1: ESLint - React Quote Escaping
**ファイル:** `components/fc/Concept.tsx:46`

**エラー:**
```
46:16  Error: `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.
```

**原因:** JSX内で生のダブルクォーテーションを使用

**解決:**
```typescript
// 修正前
規格住宅の"迷い"を減らす仕組みを一式でご提供

// 修正後
規格住宅の&ldquo;迷い&rdquo;を減らす仕組みを一式でご提供
```

**コミット:** 492bf8d

### 問題2: 未使用インポート削除（正常）
**ファイル:** `Hero.tsx`, `SiteHeader.tsx`, `page.tsx`

**警告:**
```
'Button' is defined but never used.
'Process' is defined but never used.
'Map' is defined but never used.
```

**解決:** 正しく削除（これらは実際に未使用だった）

**コミット:** 492bf8d

### 問題3: 過剰なインポート削除（重大エラー）
**ファイル:** `components/fc/Testimonials.tsx`

**エラー:**
```
43:14  Error: 'Card' is not defined.  react/jsx-no-undef
54:16  Error: 'CardContent' is not defined.  react/jsx-no-undef
```

**原因:**
- ファイルの最初の15行のみを読み、`import { Card, CardContent }` が未使用と判断
- ESLintの「未使用」警告を鵜呑みにして削除
- JSXタグとしての使用（`<Card>`, `<CardContent>`）を確認していなかった

**実際の使用箇所:**
```typescript
// Line 43:
<Card className="h-full border-0 shadow-lg hover:shadow-xl transition-shadow overflow-hidden">

// Line 54:
<CardContent className="p-6">
```

**学び:**
- ESLintは変数参照の未使用は検出するが、JSXタグとしての使用は別扱い
- インポート削除前に**ファイル全体**を読む必要がある
- `<Component>` 形式のJSX使用を必ず確認する

**解決プロセス:**
1. 【誤った対応】最初の15行だけ読んで削除 → ビルドエラー
2. 【ユーザーの指摘】「これはどうして起きると思う？一度考えてみて」
3. 【分析】部分的な読み取りが原因と認識
4. 【ユーザーの確認】「一発で修正できる自信はある？」
5. 【再度失敗】まだ全ファイルを読まずに対応
6. 【正しい対応】3ファイル全て完全に読み、実際の使用箇所を確認
7. `Testimonials.tsx` のみインポートを復元

**コミット:**
- 7e3008f (誤った削除)
- 2d13121 (正しい復元)

### 問題4: Performance.tsx と Process.tsx のインポート
**検証結果:** これらは実際に `<div>` タグのみを使用しており、Card コンポーネントは使用していない

```typescript
// Performance.tsx - 実際のJSX
<div className="rounded-2xl border border-black/5 bg-white p-6">

// Process.tsx - 実際のJSX
<div className="rounded-2xl border border-black/5 bg-white p-6">
```

**結論:** これらのインポート削除は正しい

## デプロイ履歴

### コミット履歴
```
2d13121 fix: restore Card imports in Testimonials (actually used in JSX)
7e3008f fix: remove all unused imports (Performance, Process, Testimonials) ← エラー
492bf8d fix: resolve ESLint errors (escape quotes, remove unused imports)
ea575ea feat: implement comprehensive 82→100 point LP improvements ← メイン実装
```

### Vercelデプロイ
- **本番URL:** https://life-x-lp.vercel.app/fc
- **ステータス:** ● Ready
- **ビルド時間:** 32秒
- **最終デプロイ:** 2025-11-08 07:17:33 UTC

**ビルド結果:**
```
✓ Compiled successfully in 9.4s
✓ Linting and checking validity of types
✓ Generating static pages (8/8)
```

**バンドルサイズ:**
```
Route (app)                 Size      First Load JS
├ ○ /                      133 B     102 kB
├ ○ /fc                    115 kB    217 kB  ← FC LP
└ ○ /webinar               133 B     102 kB
+ First Load JS shared     102 kB
```

## 教訓

### 1. インポート管理
- ファイル全体を読まずにインポートを削除しない
- ESLint警告は変数参照のみで、JSXタグ使用は別
- 削除前にファイル内検索で実際の使用箇所を確認

### 2. エラー対応の姿勢
- ユーザーに「一発で修正できる自信」を聞かれた時は、本当に全確認してから答える
- 同じミスを繰り返さないよう、原因を深く理解する
- 「考えてから実行」を徹底

### 3. コンポーネント設計
- デザイントークンを先に定義すると後の実装が統一される
- 再利用可能なボタンクラスを作ると保守性が向上
- Section コンポーネントの variant/spacing 統一でレイアウトが一貫

### 4. デプロイフロー
- Git push後、Vercelが自動デプロイしない場合は手動実行
- `vercel --prod --yes` でCI/CD不要の即座デプロイ可能
- デプロイログで実際のビルド成功を必ず確認

## 次のステップ

- アクセシビリティ監査（現状では未実施）
- パフォーマンス測定（Core Web Vitals）
- A/Bテスト用のトラッキング実装
- 実際の運用データに基づくFAQ更新
